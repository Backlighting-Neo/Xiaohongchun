var ajax={options:{method:"get",url:"",params:{},type:"text",callback:function(){}},createRequest:function(){var a;try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){try{a=new XMLHttpRequest,a.overrideMimeType&&a.overrideMimeType("text/xml")}catch(b){alert("您的浏览器不支持Ajax")}}}return a},setOptions:function(a){for(var b in a)this.options[b]=a[b]},formateParameters:function(){var a=[],b=this.options.params;for(var c in b){var d=b[c];a.push(c+"="+d)}return a.join("&")},readystatechange:function(a){var b;if(4==a.readyState&&200==a.status){switch(this.options.type){case"xml":b=a.responseXML;break;case"json":var c=a.responseText;c&&(b=JSON.parse(c));break;default:b=a.responseText}b?this.options.callback.call(this,b):this.options.callback.call(this)}},request:function(a){var b=this;b.setOptions.call(b,a);var c=b.createRequest.call(b);c.onreadystatechange=function(){b.readystatechange.call(b,c)};var d=b.formateParameters.call(b),e=b.options.method,f=b.options.url;"GET"===e.toUpperCase()&&(f+="?"+d+"&m="+Math.random().toString()),c.open(e,f,!0),"GET"===e.toUpperCase()?c.send(null):"POST"===e.toUpperCase()&&(c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(d))}};
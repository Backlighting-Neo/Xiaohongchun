CodeMirror.defineMode("javascript",function(e,r){function t(e,r){for(var t,n=!1;null!=(t=e.next());){if(t==r&&!n)return!1;n=!n&&"\\"==t}return n}function n(e,r,t){return fe=e,se=t,r}function a(e,r){var a=e.next();if('"'==a||"'"==a)return r.tokenize=i(a),r.tokenize(e,r);if("."==a&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return n("number","number");if("."==a&&e.match(".."))return n("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(a))return n(a);if("="==a&&e.eat(">"))return n("=>");if("0"==a&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),n("number","number");if(/\d/.test(a))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),n("number","number");if("/"==a)return e.eat("*")?(r.tokenize=o,o(e,r)):e.eat("/")?(e.skipToEnd(),n("comment","comment")):"operator"==r.lastType||"keyword c"==r.lastType||"sof"==r.lastType||/^[\[{}\(,;:]$/.test(r.lastType)?(t(e,"/"),e.eatWhile(/[gimy]/),n("regexp","string-2")):(e.eatWhile(ke),n("operator",null,e.current()));if("`"==a)return r.tokenize=u,u(e,r);if("#"==a)return e.skipToEnd(),n("error","error");if(ke.test(a))return e.eatWhile(ke),n("operator",null,e.current());e.eatWhile(/[\w\$_]/);var c=e.current(),l=ye.propertyIsEnumerable(c)&&ye[c];return l&&"."!=r.lastType?n(l.type,l.style,c):n("variable","variable",c)}function i(e){return function(r,i){return t(r,e)||(i.tokenize=a),n("string","string")}}function o(e,r){for(var t,i=!1;t=e.next();){if("/"==t&&i){r.tokenize=a;break}i="*"==t}return n("comment","comment")}function u(e,r){for(var t,i=!1;null!=(t=e.next());){if(!i&&("`"==t||"$"==t&&e.eat("{"))){r.tokenize=a;break}i=!i&&"\\"==t}return n("quasi","string-2",e.current())}function c(e,r){r.fatArrowAt&&(r.fatArrowAt=null);var t=e.string.indexOf("=>",e.start);if(!(0>t)){for(var n=0,a=!1,i=t-1;i>=0;--i){var o=e.string.charAt(i),u=be.indexOf(o);if(u>=0&&3>u){if(!n){++i;break}if(0==--n)break}else if(u>=3&&6>u)++n;else if(/[$\w]/.test(o))a=!0;else if(a&&!n){++i;break}}a&&!n&&(r.fatArrowAt=i)}}function l(e,r,t,n,a,i){this.indented=e,this.column=r,this.type=t,this.prev=a,this.info=i,null!=n&&(this.align=n)}function f(e,r){for(var t=e.localVars;t;t=t.next)if(t.name==r)return!0;for(var n=e.context;n;n=n.prev)for(var t=n.vars;t;t=t.next)if(t.name==r)return!0}function s(e,r,t,n,a){var i=e.cc;for(he.state=e,he.stream=a,he.marked=null,he.cc=i,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var o=i.length?i.pop():ve?g:h;if(o(t,n)){for(;i.length&&i[i.length-1].lex;)i.pop()();return he.marked?he.marked:"variable"==t&&f(e,n)?"variable-2":r}}}function d(){for(var e=arguments.length-1;e>=0;e--)he.cc.push(arguments[e])}function p(){return d.apply(null,arguments),!0}function v(e){function t(r){for(var t=r;t;t=t.next)if(t.name==e)return!0;return!1}var n=he.state;if(n.context){if(he.marked="def",t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;r.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function m(){he.state.context={prev:he.state.context,vars:he.state.localVars},he.state.localVars=ge}function y(){he.state.localVars=he.state.context.vars,he.state.context=he.state.context.prev}function k(e,r){var t=function(){var t=he.state,n=t.indented;"stat"==t.lexical.type&&(n=t.lexical.indented),t.lexical=new l(n,he.stream.column(),e,null,t.lexical,r)};return t.lex=!0,t}function b(){var e=he.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function x(e){return function(r){return r==e?p():";"==e?d():p(arguments.callee)}}function h(e,r){return"var"==e?p(k("vardef",r.length),B,x(";"),b):"keyword a"==e?p(k("form"),g,h,b):"keyword b"==e?p(k("form"),h,b):"{"==e?p(k("}"),N,b):";"==e?p():"if"==e?p(k("form"),g,h,b,J):"function"==e?p(Y):"for"==e?p(k("form"),K,b,h,b):"variable"==e?p(k("stat"),O):"switch"==e?p(k("form"),g,k("}","switch"),x("{"),N,b,b):"case"==e?p(g,x(":")):"default"==e?p(x(":")):"catch"==e?p(k("form"),m,x("("),Z,x(")"),h,b,y):"module"==e?p(k("form"),m,ne,y,b):"class"==e?p(k("form"),ee,te,b):"export"==e?p(k("form"),ae,b):"import"==e?p(k("form"),ie,b):d(k("stat"),g,x(";"),b)}function g(e){return M(e,!1)}function w(e){return M(e,!0)}function M(e,r){if(he.state.fatArrowAt==he.stream.start){var t=r?A:I;if("("==e)return p(m,q(D,")"),x("=>"),t,y);if("variable"==e)return d(m,D,x("=>"),t,y)}var n=r?E:C;return xe.hasOwnProperty(e)?p(n):"function"==e?p(Y):"keyword c"==e?p(r?V:j):"("==e?p(k(")"),j,le,x(")"),b,n):"operator"==e||"spread"==e?p(r?w:g):"["==e?p(k("]"),w,ce,b,n):"{"==e?p(q(W,"}"),n):p()}function j(e){return e.match(/[;\}\)\],]/)?d():d(g)}function V(e){return e.match(/[;\}\)\],]/)?d():d(w)}function C(e,r){return","==e?p(g):E(e,r,!1)}function E(e,r,t){var n=0==t?C:E,a=0==t?g:w;return"=>"==r?p(m,t?A:I,y):"operator"==e?/\+\+|--/.test(r)?p(n):"?"==r?p(g,x(":"),a):p(a):"quasi"==e?(he.cc.push(n),T(r)):";"!=e?"("==e?p(q(w,")","call"),n):"."==e?p(P,n):"["==e?p(k("]"),j,x("]"),b,n):void 0:void 0}function T(e){return"${"!=e.slice(e.length-2)?p():p(g,z)}function z(e){return"}"==e?(he.marked="string-2",he.state.tokenize=u,p()):void 0}function I(e){return c(he.stream,he.state),d("{"==e?h:g)}function A(e){return c(he.stream,he.state),d("{"==e?h:w)}function O(e){return":"==e?p(b,h):d(C,x(";"),b)}function P(e){return"variable"==e?(he.marked="property",p()):void 0}function W(e,r){if("variable"==e){if(he.marked="property","get"==r||"set"==r)return p($)}else if("number"==e||"string"==e)he.marked=e+" property";else if("["==e)return p(g,x("]"),S);return xe.hasOwnProperty(e)?p(S):void 0}function $(e){return"variable"!=e?d(S):(he.marked="property",p(Y))}function S(e){return":"==e?p(w):"("==e?d(Y):void 0}function q(e,r,t){function n(t){if(","==t){var a=he.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),p(e,n)}return t==r?p():p(x(r))}return function(a){return a==r?p():t===!1?d(e,n):d(k(r,t),e,n,b)}}function N(e){return"}"==e?p():d(h,N)}function U(e){return me&&":"==e?p(_):void 0}function _(e){return"variable"==e?(he.marked="variable-3",p()):void 0}function B(){return d(D,U,G,H)}function D(e,r){return"variable"==e?(v(r),p()):"["==e?p(q(D,"]")):"{"==e?p(q(F,"}")):void 0}function F(e,r){return"variable"!=e||he.stream.match(/^\s*:/,!1)?("variable"==e&&(he.marked="property"),p(x(":"),D,G)):(v(r),p(G))}function G(e,r){return"="==r?p(w):void 0}function H(e){return","==e?p(B):void 0}function J(e,r){return"keyword b"==e&&"else"==r?p(k("form"),h,b):void 0}function K(e){return"("==e?p(k(")"),L,x(")")):void 0}function L(e){return"var"==e?p(B,x(";"),R):";"==e?p(R):"variable"==e?p(Q):d(g,x(";"),R)}function Q(e,r){return"in"==r||"of"==r?(he.marked="keyword",p(g)):p(C,R)}function R(e,r){return";"==e?p(X):"in"==r||"of"==r?(he.marked="keyword",p(g)):d(g,x(";"),X)}function X(e){")"!=e&&p(g)}function Y(e,r){return"*"==r?(he.marked="keyword",p(Y)):"variable"==e?(v(r),p(Y)):"("==e?p(m,q(Z,")"),h,y):void 0}function Z(e){return"spread"==e?p(Z):d(D,U)}function ee(e,r){return"variable"==e?(v(r),p(re)):void 0}function re(e,r){return"extends"==r?p(g):void 0}function te(e){return"{"==e?p(q(W,"}")):void 0}function ne(e,r){return"string"==e?p(h):"variable"==e?(v(r),p(ue)):void 0}function ae(e,r){return"*"==r?(he.marked="keyword",p(ue,x(";"))):"default"==r?(he.marked="keyword",p(g,x(";"))):d(h)}function ie(e){return"string"==e?p():d(oe,ue)}function oe(e,r){return"{"==e?p(q(oe,"}")):("variable"==e&&v(r),p())}function ue(e,r){return"from"==r?(he.marked="keyword",p(g)):void 0}function ce(e){return"for"==e?d(le):","==e?p(q(w,"]",!1)):d(q(w,"]",!1))}function le(e){return"for"==e?p(K,le):"if"==e?p(g,le):void 0}var fe,se,de=e.indentUnit,pe=r.statementIndent,ve=r.json,me=r.typescript,ye=function(){function e(e){return{type:e,style:"keyword"}}var r=e("keyword a"),t=e("keyword b"),n=e("keyword c"),a=e("operator"),i={type:"atom",style:"atom"},o={"if":e("if"),"while":r,"with":r,"else":t,"do":t,"try":t,"finally":t,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":a,"typeof":a,"instanceof":a,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":n,"export":e("export"),"import":e("import"),"extends":n};if(me){var u={type:"variable",style:"variable-3"},c={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:u,number:u,bool:u,any:u};for(var l in c)o[l]=c[l]}return o}(),ke=/[+\-*&%=<>!?|~^]/,be="([{}])",xe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0},he={state:null,column:null,marked:null,cc:null},ge={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:a,lastType:"sof",cc:[],lexical:new l((e||0)-de,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:0};return r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,r){if(e.sol()&&(r.lexical.hasOwnProperty("align")||(r.lexical.align=!1),r.indented=e.indentation(),c(e,r)),r.tokenize!=o&&e.eatSpace())return null;var t=r.tokenize(e,r);return"comment"==fe?t:(r.lastType="operator"!=fe||"++"!=se&&"--"!=se?fe:"incdec",s(r,t,fe,se,e))},indent:function(e,t){if(e.tokenize==o)return CodeMirror.Pass;if(e.tokenize!=a)return 0;for(var n=t&&t.charAt(0),i=e.lexical,u=e.cc.length-1;u>=0;--u){var c=e.cc[u];if(c==b)i=i.prev;else if(c!=J)break}"stat"==i.type&&"}"==n&&(i=i.prev),pe&&")"==i.type&&"stat"==i.prev.type&&(i=i.prev);var l=i.type,f=n==l;return"vardef"==l?i.indented+("operator"==e.lastType||","==e.lastType?i.info+1:0):"form"==l&&"{"==n?i.indented:"form"==l?i.indented+de:"stat"==l?i.indented+("operator"==e.lastType||","==e.lastType?pe||de:0):"switch"!=i.info||f||0==r.doubleIndentSwitch?i.align?i.column+(f?0:1):i.indented+(f?0:de):i.indented+(/^(?:case|default)\b/.test(t)?de:2*de)},electricChars:":{}",blockCommentStart:ve?null:"/*",blockCommentEnd:ve?null:"*/",lineComment:ve?null:"//",fold:"brace",helperType:ve?"json":"javascript",jsonMode:ve}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0});
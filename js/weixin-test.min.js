!function(){var e=function(){var e="wx3d7f899c6405a785",n="http://static.xiaohongchun.com/store/test.html",t="snsapi_userinfo",o=mobile.query("code");o=o?o:"debugCode";var i=mobile.query("debug");i=i?i:1;var c="",a="u802345jgfjsdfgsdg888";document.write("<style>body {font-size: 35px; padding: 20px; word-break: break-all;} .key {color: blue; margin-right:30px; font-weight: bold;}</style>"),document.write('<div id="content"></div>');var r=function(e,n){var t="document";if(n=n?n:"",i>0)switch(t){case"console":console.log("%c"+e+"    %c"+n,"color: blue; font-size: x-large","color: #000; font-size: x-large");break;case"document":$("#content").append('<span class="key">'+e+"</span><span>"+n+"</span><br><br>")}},d={};if(d.getAccessToken="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+e+"&redirect_uri="+encodeURIComponent(n)+"&response_type=code&scope="+t+"&state="+c+"#wechat_redirect",o.length<32&&2>i)return void(location.href=d.getAccessToken);r("code",o),r("prePayId",a),$.getJSON("http://192.168.2.100:1339/weixin/get_accesstoken/"+o).done(function(e){e.error||(r("AccessToken",e.tencent.access_token),r("openID",e.tencent.openid))}).fail(function(){r("get AccessToken Error")});var s=$.getJSON("http://192.168.2.100:1339/weixin/sign/"+a);$.getJSON("http://192.168.2.100:1339/weixin/authJs");wx.config({debug:1==i,appId:e,timestamp:"",nonceStr:"",signature:"",jsApiList:[]});var p=function(){r("WeixinReady","Ready"),$.when(s).done(function(n){r("timeStamp",n.timeStamp),r("nonceStr",n.nonceStr),r("paySign",n.sign),WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e,timeStamp:n.timeStamp,nonceStr:n.nonceStr,"package":"prepay_id="+a,signType:"MD5",paySign:n.sign},function(e){r("ReturnOnPayFE",e.err_msg),"get_brand_wcpay_request:ok"==e.err_msg})})};"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",p,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",p),document.attachEvent("onWeixinJSBridgeReady",p)):p(),document.title="小红唇微信接口测试"};window.onload=e}();